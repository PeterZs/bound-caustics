<?xml version='1.0' encoding='utf-8'?>

<scene version="0.6.0">
    <default name="useResultant" value="false" />
    <default name="methodMask" value="0" />
    <default name="spp" value="1" />

    <sensor type="perspective">
        <float name="fov" value="80" />
        <!-- <float name="fov" value="37"/> -->
        <string name="fovAxis" value="x" />
        <float name="nearClip" value="0.1" />
        <transform name="toWorld">
            <lookat target="9, 8, -5.2" origin="-2, 1, 0.5" up="0, 0, 1" />
            <!-- <lookat target="7, 5, -5" origin="0, 0, 2" up="0, 0, 1"/> -->
        </transform>

        <sampler type="independent">
            <integer name="sampleCount" value="2" />
        </sampler>

        <film type="hdrfilm">
            <integer name="height" value="512" />
            <integer name="width" value="512" />
            <!-- <integer name="cropHeight" value="60"/>
			<integer name="cropWidth" value="60"/>
			<integer name="cropOffsetX" value="20"/>
			<integer name="cropOffsetY" value="20"/> -->
            <rfilter type="gaussian" />
        </film>
    </sensor>
    <emitter type="envmap">
        <string name="filename" value="textures/sky.exr" />
        <transform name="toWorld">
            <rotate y="1" angle="0" />
        </transform>
        <float name="scale" value="3" />
    </emitter>
    <shape type="obj">
        <string name="filename" value="meshes/spemitter.obj" />
        <boolean name="caustic_emitter_multi" value="true" />
        <transform name="toWorld">
            <scale value="0.03" />
            <translate x="0.0" y="10" z="0.0" />
        </transform>
        <emitter type="area">
            <spectrum name="radiance" value="100000" />
        </emitter>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/pool_inside.obj" />
        <boolean name="caustic_receiver" value="true" />
        <bsdf type="diffuse">
            <texture name="reflectance" type="bitmap">
                <string name="filename" value="textures/[2K]Tiles06/Tiles06_col.png" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/water_plane.obj" />
        <boolean name="caustic_caster_single" value="true" />
        <boolean name="caustic_caster_multi" value="true" />
        <bsdf type="normalmap">
            <bsdf type="dielectric">
                <float name="intIOR" value="1.33" />
            </bsdf>
            <texture type="bitmap" name="normalmap">
                <string name="filename" value="$normalmap" />
                <float name="gamma" value="1.0" />
            </texture>
            <boolean name="use_slopes" value="false" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/pool_border.obj" />
        <bsdf type="diffuse">
            <texture name="reflectance" type="bitmap">
                <string name="filename" value="textures/[2K]Tiles54/Tiles54_col.jpg" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/floor1.obj" />
        <bsdf type="diffuse">
            <texture name="reflectance" type="bitmap">
                <string name="filename" value="textures/[2K]Tiles27/Tiles27_col.jpg" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/floor2.obj" />
        <bsdf type="diffuse">
            <texture name="reflectance" type="bitmap">
                <string name="filename" value="textures/[2K]Tiles50/Tiles50_col.jpg" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/ladder_steps.obj" />
        <bsdf type="roughplastic">
            <string name="distribution" value="ggx" />
            <float name="alpha" value="0.1" />
            <rgb name="diffuseReflectance" value="0.01, 0.01, 0.04" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/ladder_metal.obj" />
        <bsdf type="roughconductor">
            <string name="distribution" value="ggx" />
            <string name="material" value="Ag" />
            <float name="alpha" value="0.2" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/chairs_wood.obj" />
        <bsdf type="diffuse">
            <rgb name="reflectance" value="0.73, 0.58, 0.43" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/chair_fabric_1.obj" />
        <bsdf type="normalmap">
            <bsdf type="diffuse">
                <texture name="reflectance" type="bitmap">
                    <string name="filename" value="textures/Striped_cotton_01_2K_Base_Color.jpg" />
                </texture>
            </bsdf>
            <texture type="bitmap" name="normalmap">
                <string name="filename" value="textures/Striped_cotton_01_2K_Normal.jpg" />
                <float name="gamma" value="1.0" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/chair_fabric_2.obj" />
        <bsdf type="normalmap">
            <bsdf type="diffuse">
                <texture name="reflectance" type="bitmap">
                    <string name="filename" value="textures/Striped_cotton_01_2K_Base_Color_2.jpg" />
                </texture>
            </bsdf>
            <texture type="bitmap" name="normalmap">
                <string name="filename" value="textures/Striped_cotton_01_2K_Normal.jpg" />
                <float name="gamma" value="1.0" />
            </texture>
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/umbrella_base.obj" />
        <bsdf type="diffuse">
            <rgb name="reflectance" value="0.25, 0.25, 0.25" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/umbrella_cylinders.obj" />
        <bsdf type="diffuse">
            <rgb name="reflectance" value="0.03, 0.03, 0.03" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/umbrella_top.obj" />
        <bsdf type="normalmap">
            <bsdf type="diffuse">
                <texture name="reflectance" type="bitmap">
                    <string name="filename" value="textures/siggraph_logo.png" />
                </texture>
            </bsdf>
            <texture type="bitmap" name="normalmap">
                <string name="filename" value="textures/[2K]Fabric33/Fabric33_nrm.png" />
                <float name="gamma" value="1.0" />
            </texture>
            <float name="tiles" value="4" />
        </bsdf>
    </shape>
    <shape type="obj">
        <string name="filename" value="meshes/torus.obj" />
        <bsdf type="diffuse">
            <rgb name="reflectance" value="0.8, 0.126, 0.407" />
        </bsdf>
    </shape>
    <sensor type="perspective">
        <string name="fovAxis" value="larger" />
        <float name="fov" value="35" />
        <transform name="toWorld">
            <rotate x="0.0" y="1.0" z="0.0" angle="180.00" />
            <rotate x="1.0" y="0.0" z="0.0" angle="-45.48" />
            <rotate x="0.0" y="1.0" z="0.0" angle="72.56" />
            <rotate x="0.0" y="0.0" z="1.0" angle="0.00" />
            <translate x="13.777025" y="14.458819" z="1.740857" />
        </transform>
        <sampler type="independent">
            <integer name="sampleCount" value="$spp" />
        </sampler>
        <film type="hdrfilm">
            <integer name="width" value="$imgwidth" />
            <integer name="height" value="$imgheight" />
            <rfilter type="gaussian" />
            <integer name="cropOffsetX" value="$crop_offset_x" />
            <integer name="cropOffsetY" value="$crop_offset_y" />
            <integer name="cropWidth" value="$crop_width" />
            <integer name="cropHeight" value="$crop_height" />
            <boolean name="banner" value="false" />
        </film>
    </sensor>
</scene>